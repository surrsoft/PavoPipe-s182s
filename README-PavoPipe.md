
# Описание формата PavoPipe, rev. 1.4.0 #8

- это CSV-подобный формат представления данных. От CSV отличается отсутствием строгого порядка расположения “столбцов” и наличием опциональных описаний для этих "столбцов"
- технически представляет собой `!pp-dk-arr!`, то есть множество элементов `!pp-dk-item!`

## понятия

- `!!pp-content!!` - контент в формате `PavoPipe`; такой контент состоит из 1+ `!pp-dk-item!s`
- `!!pp-dk-arr!!` - множество всех `!pp-dk-item` содержащихся в `!pp-content!`
- `!!pp-dk-item!!` - это `!pp-d-item!` или `!pp-k-item!`
- `!!pp-d-arr!!` - множество всех `!pp-d-item` содержащихся в `!pp-content!`
- `!!pp-k-arr!!` - множество всех `!pp-k-item` содержащихся в `!pp-content!`
- `!!pp-d-item!!` - запись вида `d=fGFNj`; назначение - дать описание для того или иного `!pp-f-name!`
	- где `d` - это начало строки, 
	- ` = ` - знак равно (как есть), 
	- `f` - это пробел, 
	- `F` - это 1+ `!pp-f-space!`,
	- `G` - это `!pp-f-name!`, 
	- `N` - это `!pp-f-desc!`; любой набор символов для описания того чем является `!pp-f-name!` 
	- `j` - это конец строки
- `!!pp-k-item!!` -  запись вида `d-fG`; аналог ряда таблицы; так же как ряд таблицы, состоит из ячеек (`!pp-f-item!`) 
	- где `d` - это начало строки, 
	- `-` - это тире (как есть),
	- `f` - это пробел, 
	- `G` - это `!pp-f-arr!`
- `!!pp-f-arr!!` - это множество из 1+ `!pp-f-item!` разделённых между собой `!pp-f-space!`
- `!!pp-f-item!!` - аналог ячейки таблицы; имеет формат `s|DfG`, 
	- где `s` - это `!pp-f-space!`
	- `D` - это `!pp-f-name!,
	- `f` - это пробел,
	- `G` - это `!pp-f-value!`,
- `!!pp-f-name!!` - имя поля; должно быть строкой удовлетворяющей регулярному выражению `^[a-zA-Z_$][a-zA-Z0-9_$]*$`
- `!!pp-f-value!!` - значение поля; любой набор символов
- `!!pp-f-space!!` - это 1+ пробелов, в том числе опционально переносов строк
- `!!pp-f-desc!!` - см. `!pp-d-item!`
- `!!pp-operation!!` - преобразование из формата `!pp-content!` в формат `!pp-object!`
- `!!pp-object!!` - это представление формата PavoPipe в формате JSON/JS объекта; формат описан ниже 
	```ts
	interface PavoPipeObj {
	  /** !pp-k-arr! */
	  data: Record<FieldName, FieldValue>[];
	  /** !pp-d-arr! */
	  descriptions: Record<FieldName, FieldDesc>;
	}
	```

## примеры
### пример 1 - !pp-content! состоящий только из !pp-k-item!s
	
```Plain
- |n Петя |s ул Ямская
- |s ул Великая |n Ира
- |n Маша |foo другое
```
	
### пример 2 - здесь вверху мы видим два !pp-d-item!s и ниже четыре !pp-k-item!s
	
```Plain
= c название столицы
= f дата основания

- |c Париж |f 3 век до н.э.
- |c Рим |f 753 год до н.э.
- |c Лондон |f ок. 47 год н.э.
- |c Москва |f 1147 год
```
	
### пример 3 - в этом примере используются переносы строк в !pp-k-item!s для разделения отдельных !pp-f-item!s
	
```Plain
= c название   столицы
= f дата       основания

- |c Париж
		|f 3 век до н.э.
- |c Рим
		|f 753 год до н.э.
- |c Лондон 
		|f ок. 47 год н.э.
- |c Москва 
		|f 1147 год
```
        
